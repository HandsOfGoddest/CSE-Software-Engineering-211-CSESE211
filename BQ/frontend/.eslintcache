[{"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\index.js":"1","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\store.js":"2","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\App.js":"3","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Header.js":"4","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\reducers\\productReducers.js":"5","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Footer.js":"6","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\ProductScreen.js":"7","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\HomeScreen.js":"8","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Message.js":"9","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Advertisement.js":"10","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Loader.js":"11","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Product.js":"12","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Category.js":"13","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Rating.js":"14","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\constants\\productConstants.js":"15","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\actions\\productActions.js":"16","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\CartScreen.js":"17","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\constants\\cartConstant.js":"18","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\reducers\\cartReducers.js":"19","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\actions\\cartActions.js":"20","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\LoginScreen.js":"21","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\RegisterScreen.js":"22","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\ProfileScreen.js":"23","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\actions\\userActions.js":"24","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\FormContainer.js":"25","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\constants\\userConstants.js":"26","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\reducers\\userReducers.js":"27","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\ShippingScreen.js":"28","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\CheckoutSteps.js":"29","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\PaymentScreen.js":"30","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\PlaceOrderScreen.js":"31","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\reducers\\orderReducers.js":"32","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\constants\\orderConstants.js":"33","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\actions\\orderActions.js":"34","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\SearchBox.js":"35","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\OrderScreen.js":"36"},{"size":335,"mtime":1636956053441,"results":"37","hashOfConfig":"38"},{"size":2002,"mtime":1637483395335,"results":"39","hashOfConfig":"38"},{"size":1697,"mtime":1637167971689,"results":"40","hashOfConfig":"38"},{"size":1919,"mtime":1637314966331,"results":"41","hashOfConfig":"38"},{"size":1634,"mtime":1637161881704,"results":"42","hashOfConfig":"38"},{"size":665,"mtime":1637121283223,"results":"43","hashOfConfig":"38"},{"size":6889,"mtime":1637302041070,"results":"44","hashOfConfig":"38"},{"size":1269,"mtime":1637338823699,"results":"45","hashOfConfig":"38"},{"size":252,"mtime":1636956053433,"results":"46","hashOfConfig":"38"},{"size":875,"mtime":1637161881691,"results":"47","hashOfConfig":"38"},{"size":410,"mtime":1636956053431,"results":"48","hashOfConfig":"38"},{"size":771,"mtime":1637161881696,"results":"49","hashOfConfig":"38"},{"size":1484,"mtime":1637161881693,"results":"50","hashOfConfig":"38"},{"size":1756,"mtime":1636956053437,"results":"51","hashOfConfig":"38"},{"size":674,"mtime":1637161881699,"results":"52","hashOfConfig":"38"},{"size":2100,"mtime":1637161881688,"results":"53","hashOfConfig":"38"},{"size":3535,"mtime":1637420602559,"results":"54","hashOfConfig":"38"},{"size":760,"mtime":1637317351417,"results":"55","hashOfConfig":"38"},{"size":3212,"mtime":1637483851684,"results":"56","hashOfConfig":"38"},{"size":3687,"mtime":1637484905838,"results":"57","hashOfConfig":"38"},{"size":2842,"mtime":1637485016999,"results":"58","hashOfConfig":"38"},{"size":3293,"mtime":1637121283294,"results":"59","hashOfConfig":"38"},{"size":5367,"mtime":1637423179987,"results":"60","hashOfConfig":"38"},{"size":3967,"mtime":1637311243569,"results":"61","hashOfConfig":"38"},{"size":381,"mtime":1637121283223,"results":"62","hashOfConfig":"38"},{"size":1518,"mtime":1637217625408,"results":"63","hashOfConfig":"38"},{"size":2049,"mtime":1637217766854,"results":"64","hashOfConfig":"38"},{"size":2681,"mtime":1637141097435,"results":"65","hashOfConfig":"38"},{"size":1325,"mtime":1637138174362,"results":"66","hashOfConfig":"38"},{"size":2142,"mtime":1637140594786,"results":"67","hashOfConfig":"38"},{"size":5871,"mtime":1637157953345,"results":"68","hashOfConfig":"38"},{"size":2605,"mtime":1637416815556,"results":"69","hashOfConfig":"38"},{"size":802,"mtime":1637217498109,"results":"70","hashOfConfig":"38"},{"size":3465,"mtime":1637217247359,"results":"71","hashOfConfig":"38"},{"size":907,"mtime":1637161881697,"results":"72","hashOfConfig":"38"},{"size":6243,"mtime":1637212240267,"results":"73","hashOfConfig":"38"},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},"s8zzzw",{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"76"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"76"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"76"},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"98","messages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"100","messages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"76"},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"76"},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"112","messages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"114","messages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"116","messages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118"},{"filePath":"119","messages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123"},{"filePath":"124","messages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"126","messages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"128","messages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"76"},{"filePath":"131","messages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"133","messages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"135","messages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"137","messages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"139","messages":"140","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"141","messages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"143","messages":"144","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"145","messages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"147","messages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"149","messages":"150","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"151","usedDeprecatedRules":"76"},{"filePath":"152","messages":"153","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"154","messages":"155","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"156","usedDeprecatedRules":"76"},"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\index.js",[],["157","158"],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\store.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\App.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Header.js",["159","160"],"import React from \"react\";\r\nimport {Route} from 'react-router-dom'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Navbar, Nav, NavDropdown } from \"react-bootstrap\";\r\nimport SearchBox from \"./SearchBox\";\r\nimport { logout } from \"../actions/userActions\";\r\nimport { updateCart, removeAllCart } from \"../actions/cartActions\";\r\nimport \"./MyStyle.css\";\r\n\r\n\r\nfunction Header () {\r\n  const dispatch = useDispatch()\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n  const cart = useSelector((state) => state.cart)\r\n  const { cartItems} = cart\r\n\r\n  const logoutHandler = () => {\r\n    console.log(cartItems)\r\n    dispatch(updateCart(cartItems));\r\n    dispatch(removeAllCart());\r\n    dispatch(logout());\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to=\"/\">\r\n        <img src=\"images/logo.png\" alt=\"logo\" className=\"logo\" />\r\n      </Link>\r\n      {/*<input type=\"text\" className=\"search-bar\" placeholder=\"Search\" />*/}\r\n      <Route render={({history}) => <SearchBox history={history}/>} />\r\n\r\n      <Link to=\"/datban\">\r\n        <p>Đặt bàn</p>\r\n      </Link>\r\n      <div className=\"cart-info\">\r\n        \r\n        <Link to=\"/cart\">\r\n          <img src=\"images/cart.png\" alt=\"\" className=\"cart\" />\r\n        </Link>\r\n      </div>\r\n      {userInfo ? (\r\n        <NavDropdown title={userInfo.name} id=\"username\">\r\n          <LinkContainer to=\"/profile\">\r\n            <NavDropdown.Item>Profile</NavDropdown.Item>\r\n          </LinkContainer>\r\n          <NavDropdown.Item onClick={logoutHandler}> Logout </NavDropdown.Item>\r\n        </NavDropdown>\r\n      ) : (\r\n        <Link to=\"/login\">\r\n          <p>LogIn</p>\r\n        </Link>\r\n      )}\r\n\r\n      <img className=\"bar\" src=\"images/bar.png\" alt=\"bar\" />\r\n    </div>\r\n  );\r\n}\r\nexport default Header;","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\reducers\\productReducers.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Footer.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\ProductScreen.js",["161","162"],"import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Image,\r\n  ListGroup,\r\n  Card,\r\n  Button,\r\n  Form,\r\n} from \"react-bootstrap\";\r\nimport Rating from \"../components/Rating\";\r\nimport {\r\n  listProductDetails,\r\n  createProductReview,\r\n} from \"../actions/productActions\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\n\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from \"../constants/productConstants\";\r\n\r\nconst ProductScreen = ({ history, match }) => {\r\n  const [qty, setQty] = useState(1);\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n  console.log(product)\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const productReviewCreate = useSelector((state) => state.productReviewCreate);\r\n  const { success: successProductReview, error: errorProductReview } =\r\n    productReviewCreate;\r\n\r\n  useEffect(() => {\r\n    dispatch(listProductDetails(match.params.id));\r\n  }, [dispatch, match]);\r\n\r\n  const addToCartHandler = () => {\r\n    history.push(`/cart/${match.params.id}?qty=${qty}`);\r\n  };\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n    dispatch(createProductReview(match.params.id,{\r\n      rating,\r\n      comment\r\n    }))\r\n  }\r\n  return (\r\n    <>\r\n      <Link className=\"btn btn-dark my-3\" to=\"/\">\r\n        Go Back\r\n      </Link>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n        ) : (\r\n            <>\r\n        <Row>\r\n          <Col md={6}>\r\n            <Image src={product.image} alt={product.name} fluid />\r\n          </Col>\r\n          <Col md={3}>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroup.Item>\r\n                <h3>{product.name}</h3>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Rating\r\n                  value={product.rating}\r\n                  text={`${product.numReviews} reviews`}\r\n                />\r\n              </ListGroup.Item>\r\n              <ListGroup.Item> Price: {product.price} VND </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                {\" \"}\r\n                Description: {product.description}{\" \"}\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Col>\r\n          <Col md={3}>\r\n            <Card>\r\n              <ListGroup variant=\"fush\">\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Price: </Col>\r\n                    <Col>\r\n                      <strong>{product.price}VND</strong>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Status: </Col>\r\n                    <Col>\r\n                      {product.countInStock > 0 ? \"In Stock\" : \"Out Of Stock\"}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                {product.countInStock > 0 && (\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Qty</Col>\r\n                      <Col>\r\n                        <Form.Control\r\n                          as=\"select\"\r\n                          value={qty}\r\n                          onChange={(e) => setQty(e.target.value)}\r\n                        >\r\n                          {[...Array(product.countInStock).keys()].map((x) => (\r\n                            <option key={x + 1} value={x + 1}>\r\n                              {x + 1}\r\n                            </option>\r\n                          ))}\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                )}\r\n\r\n                <ListGroup.Item>\r\n                  <Button\r\n                    onClick={addToCartHandler}\r\n                    className=\"btn-block\"\r\n                    type=\"button\"\r\n                    disabled={product.countInStock === 0}\r\n                  >\r\n                    ADD TO CART\r\n                  </Button>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Card>\r\n          </Col>\r\n            </Row>\r\n                      <Row>\r\n            <Col md={6}>\r\n              <h2>Reviews</h2>\r\n             \r\n              {product.reviews.length === 0 && <Message>No reviews</Message>}\r\n              <ListGroup variant=\"flush\">\r\n                {product.reviews.map((review) => (\r\n                  <ListGroup.Item key={review._id}>\r\n                    <strong>{review.name}</strong>\r\n                    <Rating value={review.rating} />\r\n                    <p>{review.createdAt.substring(0, 10)}</p>\r\n                    <p>{review.comment}</p>\r\n                  </ListGroup.Item>\r\n                ))}\r\n                <ListGroup.Item>\r\n                  <h2> Write a Customer Review</h2>\r\n                  {errorProductReview && <Message variant = 'danger'>{errorProductReview}</Message>}\r\n                  {userInfo ? (\r\n                    <Form onSubmit={submitHandler}>\r\n                    <Form.Group controlId = 'rating'>\r\n                      <Form.Label>Rating</Form.Label>\r\n                      <Form.Control as='select' value = {rating} onChange={(e)=>setRating(e.target.value)}>\r\n                      <option value = ''>Select...</option>\r\n                      <option value = '1'>1-</option>\r\n                      <option value = '2'>2-</option>\r\n                      <option value = '3'>3-</option>\r\n                      <option value = '4'>4-</option>\r\n                      <option value = '5'>5-</option>\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group controlId = 'comment'>\r\n                    <Form.Label>Comment</Form.Label>\r\n                    <Form.Control \r\n                    as = 'textarea'\r\n                    row = '3'\r\n                    value = {comment}\r\n                    onChange={(e) =>setComment(e.target.value)}>\r\n\r\n                    </Form.Control>\r\n                    <Button type = 'submit' variant = 'primary'>Submit</Button>\r\n                    </Form.Group>\r\n\r\n                    </Form>\r\n                  ) : (\r\n                    <Message>\r\n                      Please <Link to=\"/login\">Sign In </Link> to write a review{' '}\r\n                    </Message>\r\n                  )}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductScreen;\r\n","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\HomeScreen.js",["163","164"],"import React, { useEffect } from \"react\";\r\nimport \"./HomeScreenStyle.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Product from \"../components/Product\";\r\nimport Message from \"../components/Message\";\r\nimport Loader from \"../components/Loader\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport Advertisement from \"../components/Advertisement\";\r\nimport Category from \"../components/Category\";\r\nimport { listProducts } from \"../actions/productActions\";\r\n\r\nconst HomeScreen = ({ match }) => {\r\n  const keyword = match.params.keyword\r\n  const dispatch = useDispatch();\r\n\r\n  const productList = useSelector((state) => state.productList || {});\r\n\r\n  const { loading, error, products } = productList;\r\n  \r\n  useEffect(() => {\r\n    dispatch(listProducts(keyword));\r\n  }, [dispatch, keyword]);\r\n\r\n  return (\r\n    <>\r\n      <Advertisement />\r\n      <Category />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n      ) : (\r\n        <div id=\"food-list\">\r\n          {products.map((product) => (\r\n            <div key={product._id}>\r\n              <Product product={product} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomeScreen;\r\n","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Message.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Advertisement.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Loader.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Product.js",["165","166"],"import React from \"react\";\r\nimport {Link} from 'react-router-dom'\r\nimport { Card } from \"react-bootstrap\";\r\nimport Rating from './Rating'\r\nimport \"./MyStyle.css\"\r\n\r\nconst Product = ({ product }) => {\r\n  return (\r\n    <>\r\n      <Link to={`/product/${product._id}`}>\r\n        <img className=\"product-image\" src={product.image} variant=\"top\" />\r\n      </Link>\r\n        <Link to = {`/product/${product._id}`}>\r\n          <div className=\"product-name\">\r\n            <strong>{product.name}</strong>\r\n          </div>\r\n        </Link>\r\n        <div>\r\n          <Rating value = {product.rating}\r\n          text = {`${product.numReviews} reviews`}/>\r\n        </div>\r\n      <div className=\"product-price\">{product.price} VND </div>\r\n      </>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Category.js",["167","168","169","170","171","172","173","174","175"],"import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, CardGroup, Container, Row, Col } from \"react-bootstrap\";\r\n\r\nconst Category = () => {\r\n  return (\r\n    <div className=\"content\">\r\n      <div className=\"prefer\">\r\n        <p>Bạn thích gì nèo :3</p>\r\n\r\n        <div className=\"select-prefer-foods\">\r\n          <div className=\"select-prefer-food\">\r\n            <Link to={``}>\r\n              <img src=\"/images/cate_favourite.png \" />\r\n            </Link>\r\n\r\n            <Link to={``}>\r\n              <strong>Best seller</strong>\r\n            </Link>\r\n          </div>\r\n          <div className=\"select-prefer-food\">\r\n            <Link to={``}>\r\n              <img src=\"/images/cg_coffee_web.png \" />\r\n            </Link>\r\n\r\n            <Link to={``}>\r\n              <strong>Cà phê</strong>\r\n            </Link>\r\n          </div>\r\n          <div className=\"select-prefer-food\">\r\n            <Link to={``}>\r\n              <img src=\"/images/cg_frappu_web.png\" />\r\n            </Link>\r\n\r\n            <Link to={``}>\r\n              <strong>Trà/Trà sữa</strong>\r\n            </Link>\r\n          </div>\r\n          <div className=\"select-prefer-food\">\r\n            <Link to={``}>\r\n              <img src=\"/images/cg_tea_milk_tea_web.png \" />\r\n            </Link>\r\n\r\n            <Link to={``}>\r\n              <strong>Đá xay</strong>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Category;\r\n","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\Rating.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\constants\\productConstants.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\actions\\productActions.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\CartScreen.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\constants\\cartConstant.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\reducers\\cartReducers.js",["176"],"import { \r\n        CART_ADD_ITEM, \r\n        CART_REMOVE_ITEM, \r\n        CART_REMOVE_ALL_ITEM,\r\n        CART_SAVE_SHIPPING_ADDRESS,\r\n        CART_SAVE_PAYMENT_METHOD,\r\n        CART_LIST_MY_REQUEST,\r\n        CART_LIST_MY_SUCCESS,\r\n        CART_LIST_MY_FAIL,\r\n        CART_LIST_MY_RESET,\r\n        CART_UPDATE_SUCCESS,\r\n        CART_UPDATE_FAIL,\r\n        CART_UPDATE_REQUEST,\r\n        CART_UPDATE_ALL_ITEM,\r\n    } from '../constants/cartConstant'\r\n\r\n\r\n\r\nexport const cartReducer = (state = { cartItems: [], shippingAdress:{} }, action) => {\r\n    switch(action.type){\r\n        case CART_ADD_ITEM:\r\n            const item = action.payload\r\n\r\n            const existItem = state.cartItems.find(x => x.product === item.product)\r\n\r\n            if(existItem){\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.map(x => x.product === existItem.product ? item : x)\r\n                }\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    cartItems: [...state.cartItems, item]\r\n                }\r\n            }\r\n        case CART_REMOVE_ITEM:\r\n            return {\r\n                ...state,\r\n                cartItems: state.cartItems.filter(x => x.product !== action.payload),\r\n            }\r\n        case CART_SAVE_SHIPPING_ADDRESS:\r\n        return {\r\n            ...state,\r\n            shippingAddress: action.payload,\r\n        }\r\n        case CART_SAVE_PAYMENT_METHOD:\r\n        return {\r\n            ...state,\r\n            paymentMethod: action.payload,\r\n        }\r\n        case CART_REMOVE_ALL_ITEM:\r\n            return{\r\n            ...state,\r\n            cartItems: []\r\n        }\r\n        case CART_UPDATE_ALL_ITEM:\r\n            //console.log(action.payload)\r\n            const data = localStorage.getItem('cartItems')? JSON.parse(localStorage.getItem('cartItems')): []\r\n            return{\r\n            ...state,\r\n            cartItems:  action.payload\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const cartListMyReducer = (\r\n    state = { cart:[] },\r\n    action\r\n  ) => {\r\n    switch (action.type) {\r\n      case CART_LIST_MY_REQUEST:\r\n        return {\r\n          loading: true \r\n        };\r\n      case CART_LIST_MY_SUCCESS:\r\n          console.log(action.payload)\r\n        return { \r\n          loading: false, \r\n          cart: action.payload,\r\n        };\r\n  \r\n      case CART_LIST_MY_FAIL:\r\n        return {\r\n          loading: false,\r\n          error: action.payload,\r\n        };\r\n      case CART_LIST_MY_RESET:\r\n        return {\r\n            cart: []\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  export const updateCartReducer = ( state = {}, action) => {\r\n    switch(action.type){\r\n        case CART_UPDATE_REQUEST:\r\n            return{\r\n                loading: true\r\n            }\r\n        case CART_UPDATE_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: true,\r\n                cart: action.payload,\r\n            }\r\n        case CART_UPDATE_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\actions\\cartActions.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\LoginScreen.js",["177","178","179","180","181","182","183"],"import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Message from \"../components/Message\";\r\nimport Loader from \"../components/Loader\";\r\nimport FormContainer from \"../components/FormContainer\";\r\nimport { getUserDetails, login } from \"../actions/userActions\";\r\nimport { listMyCart, updateAllCart } from \"../actions/cartActions\";\r\nimport { listMyOrders } from \"../actions/orderActions\";\r\nimport { cartItemsFromStorage} from \"../store\";\r\nimport store from \"../store\";\r\n\r\nconst LoginScreen = ({ location, history }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { loading, error, userInfo } = userLogin;\r\n\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const {  user } = userDetails;\r\n\r\n\r\n  \r\n  // const cartListMy = useSelector((state) => state.cartListMy);\r\n  // const { cart: Items } = cartListMy;\r\n  // console.log(Items)\r\n\r\n  const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      if(!loading){\r\n        dispatch(listMyCart())\r\n        \r\n      }\r\n      history.push(redirect);\r\n    }\r\n    \r\n  }, [dispatch, history, userInfo, redirect ]);\r\n\r\n  \r\n\r\n \r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(login(email, password));\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h1> Sign In </h1>\r\n      {error && <Message variant=\"danger\">{error} </Message>}\r\n      {loading && <Loader />}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId=\"email\">\r\n          <Form.Label> Email Address </Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Enter email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"password\">\r\n          <Form.Label> Password Address </Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Enter password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Button type=\"submit\" variant=\"primary\">\r\n          Sign In\r\n        </Button>\r\n      </Form>\r\n\r\n      <Row classNamr=\"py-3\">\r\n        <Col>\r\n          New Customer ?{\" \"}\r\n          <Link\r\n            to={redirect ? `/register?redirect = ${redirect}` : \"/register\"}\r\n          >\r\n            Register\r\n          </Link>\r\n        </Col>\r\n      </Row>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\RegisterScreen.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\ProfileScreen.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\actions\\userActions.js",["184","185"],"import {\r\n  USER_LOGIN_REQUEST, \r\n  USER_LOGIN_SUCCESS, \r\n  USER_LOGIN_FAIL, \r\n  USER_LOGOUT,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_REGISTER_FAIL,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_DETAILS_FAIL,\r\n  USER_DETAILS_RESET,\r\n  USER_UPDATE_PROFILE_REQUEST,\r\n  USER_UPDATE_PROFILE_SUCCESS,\r\n  USER_UPDATE_PROFILE_FAIL,\r\n\r\n} from \"../constants/userConstants\"\r\nimport { ORDER_LIST_MY_RESET, ORDER_PAY_RESET } from \"../constants/orderConstants\"\r\nimport axios from 'axios'\r\nimport { CART_UPDATE_REQUEST } from \"../constants/cartConstant\"\r\n\r\n\r\nexport const login = (email, password) => async(dispatch) => {\r\n    try{\r\n        dispatch({\r\n            type: USER_LOGIN_REQUEST\r\n        })\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        const {data} = await axios.post('/api/users/login', {email, password}, config)\r\n\r\n        dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data\r\n\r\n\r\n        })\r\n        localStorage.setItem('userInfo', JSON.stringify(data))\r\n    \r\n    }\r\n\r\n    catch(error) {\r\n        dispatch({\r\n      type: USER_LOGIN_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n    }\r\n}\r\n\r\nexport const logout = () =>(dispatch) => {\r\n    localStorage.removeItem('userInfo')\r\n    dispatch({type: USER_LOGOUT})\r\n    dispatch({type: USER_DETAILS_RESET})\r\n    dispatch({type: ORDER_LIST_MY_RESET})\r\n}\r\n\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_REGISTER_REQUEST,\r\n    });\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.post(\r\n      \"/api/users\",\r\n      { name, email, password },\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: USER_REGISTER_SUCCESS,\r\n      payload: data,\r\n    });\r\n    dispatch({\r\n      type: USER_LOGIN_SUCCESS,\r\n      payload: data,\r\n    });\r\n\r\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_REGISTER_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_DETAILS_REQUEST,\r\n    });\r\n    \r\n    const userInfo = getState().userLogin.userInfo; console.log(\"userinfo\", userInfo);\r\n    const config = {\r\n      \r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n    \r\n    const { data } = await axios.get(`/api/users/${id}`, config);\r\n    console.log(\"data\", data);\r\n    dispatch({\r\n      type: USER_DETAILS_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_UPDATE_PROFILE_REQUEST,\r\n    });\r\n    const userInfo=getState().userLogin.userInfo;\r\n   \r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.put(`/api/users/profile`, user, config);\r\n\r\n    dispatch({\r\n      type: USER_UPDATE_PROFILE_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_UPDATE_PROFILE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\FormContainer.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\constants\\userConstants.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\reducers\\userReducers.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\ShippingScreen.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\CheckoutSteps.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\PaymentScreen.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\PlaceOrderScreen.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\reducers\\orderReducers.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\constants\\orderConstants.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\actions\\orderActions.js",["186"],"import axios from 'axios'\r\nimport { \r\n    ORDER_CREATE_REQUEST,\r\n    ORDER_CREATE_SUCCESS,\r\n    ORDER_CREATE_FAIL, \r\n    ORDER_DETAILS_REQUEST,\r\n    ORDER_DETAILS_SUCCESS,\r\n    ORDER_DETAILS_FAIL,\r\n    ORDER_PAY_REQUEST,\r\n    ORDER_PAY_SUCCESS,\r\n    ORDER_PAY_FAIL,\r\n    ORDER_PAY_RESET,\r\n    ORDER_LIST_MY_REQUEST,\r\n    ORDER_LIST_MY_SUCCESS,\r\n    ORDER_LIST_MY_FAIL,\r\n} from '../constants/orderConstants';\r\n\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: ORDER_CREATE_REQUEST,\r\n      });\r\n\r\n      const {\r\n        userLogin: {userInfo},\r\n      } = getState()\r\n    //   const userInfo=getState().userLogin.userInfo;\r\n     \r\n  \r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n  \r\n      const { data } = await axios.post(`/api/orders`, order, config);\r\n  \r\n      dispatch({\r\n        type: ORDER_CREATE_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ORDER_CREATE_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n\r\nexport const getOrderDetails = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: ORDER_DETAILS_REQUEST,\r\n    });\r\n\r\n    const userInfo = getState().userLogin.userInfo;\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.get(`/api/orders/${id}`, config);\r\n    console.log(\"data\",data);\r\n    dispatch({\r\n      type: ORDER_DETAILS_SUCCESS,\r\n      payload: data,\r\n    });\r\n    \r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const payOrder = (orderId, paymentResult) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: ORDER_PAY_REQUEST,\r\n    });\r\n\r\n    const userInfo = getState().userLogin.userInfo;\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.put(`/api/orders/${orderId}/pay`,paymentResult, config);\r\n\r\n    dispatch({\r\n      type: ORDER_PAY_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_PAY_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const listMyOrders = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: ORDER_LIST_MY_REQUEST,\r\n    });\r\n\r\n    const userInfo = getState().userLogin.userInfo;\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.get(`/api/orders/myorders`,config );\r\n\r\n    dispatch({\r\n      type: ORDER_LIST_MY_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_LIST_MY_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};","D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\components\\SearchBox.js",[],"D:\\ĐẠI HỌC\\HK211\\Công nghệ phần mềm\\BTL\\App\\BQ\\frontend\\src\\screens\\OrderScreen.js",["187"],"import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { PayPalButton } from 'react-paypal-button-v2'\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Row, Col, ListGroup, Image, Card } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Message from \"../components/Message\";\r\nimport Loader from \"../components/Loader\";\r\nimport { getOrderDetails, payOrder } from \"../actions/orderActions\";\r\nimport { ORDER_PAY_RESET } from \"../constants/orderConstants\";\r\n\r\nconst OrderScreen = ({ match }) => {\r\n  const orderId = match.params.id;\r\n\r\n  const [sdkReady, setSdkReady] = useState(false)\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const orderDetails = useSelector((state) => state.orderDetails);\r\n  const { order, loading, error } = orderDetails;\r\n\r\n  const orderPay = useSelector((state) => state.orderPay);\r\n  const { loading:loadingPay, success:successPay } = orderPay;\r\n\r\n  console.log(\"order\",order);\r\n\r\n  if (!loading) {\r\n    //Calculate prices\r\n    const addDecimals = (num) => {\r\n      return (Math.round(num * 100) / 100).toFixed(0);\r\n    };\r\n    order.itemsPrice = addDecimals(\r\n      order.orderItems.reduce((acc, item) => acc + item.price * item.qty, 0)\r\n    );\r\n  }\r\n\r\n  useEffect(() => {\r\n    const addPayPalScript = async () => {\r\n      const { data: clientId } = await axios.get('/api/config/paypal')\r\n      const script = document.createElement('script')\r\n      script.type = 'text/javascript'\r\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`\r\n      script.async = true\r\n      script.onload = () => {\r\n        setSdkReady(true)\r\n      }\r\n      document.body.appendChild(script)\r\n    }\r\n\r\n    if(!order || successPay){\r\n      dispatch({ type: ORDER_PAY_RESET })\r\n      dispatch(getOrderDetails(orderId));\r\n    } else if(!order.isPay){\r\n      if(!window.paypal){\r\n        addPayPalScript()\r\n      } else {\r\n        setSdkReady(true)\r\n      }\r\n    }\r\n  \r\n  }, [dispatch,orderId,successPay,order]);\r\n\r\n  const successPaymentHandler = (paymentResult) => {\r\n    console.log(paymentResult)\r\n    dispatch(payOrder(orderId, paymentResult))\r\n  }\r\n\r\n  return loading ? (\r\n    <Loader />\r\n  ) : error ? (\r\n    <Message variant=\"danger\">{error}</Message>\r\n  ) : (\r\n    <>\r\n      <h1>Order {order._id}</h1>\r\n      <Row>\r\n        <Col md={8}>\r\n          <ListGroup variant=\"flush\">\r\n            <ListGroup.Item>\r\n              <h2> Hóa đơn </h2>\r\n              <p>\r\n                <strong>Name: </strong> {order.user.name}\r\n              </p>\r\n              <p>\r\n                <strong>Email: </strong> <a href={`mailto:${order.user.email}`}>{order.user.email}</a>\r\n              </p>\r\n              <p>\r\n                <strong>Địa chỉ: </strong>\r\n                {order.shippingAddress.address},{order.shippingAddress.city} ,\r\n                {order.shippingAddress.postalCode},{\" \"}\r\n                {order.shippingAddress.country}\r\n              </p>\r\n              {order.isDelivered?(\r\n                  <Message variant = 'success'>Delivered on {order.deliveredAt}</Message>\r\n              ):(\r\n                  <Message variant = 'danger'>Not Delivered</Message>\r\n              )}\r\n            </ListGroup.Item>\r\n\r\n            <ListGroup.Item>\r\n              <h2> Hình thức thanh toán</h2>\r\n              <p>\r\n              <strong>Hình thức: </strong>\r\n              {order.paymentMethod}\r\n              </p>\r\n              {order.isPaid?(\r\n                  <Message variant = 'success'>Paid on {order.paidAt}</Message>\r\n              ):(\r\n                  <Message variant = 'danger'>Not Paid</Message>\r\n              )}\r\n            </ListGroup.Item>\r\n\r\n            <ListGroup.Item>\r\n              <h2>Sản phẩm mua</h2>\r\n              {order.orderItems.length === 0 ? (\r\n                <Message>Order is empty</Message>\r\n              ) : (\r\n                <ListGroup variant=\"flush\">\r\n                  {order.orderItems.map((item, index) => (\r\n                    <ListGroup.Item key={index}>\r\n                      <Row>\r\n                        <Col md={1}>\r\n                          <Image\r\n                            src={item.image}\r\n                            alt={item.name}\r\n                            fluid\r\n                            rounded\r\n                          />\r\n                        </Col>\r\n                        <Col>\r\n                          <Link to={`/product/${item.product}`}>\r\n                            {item.name}\r\n                          </Link>\r\n                        </Col>\r\n\r\n                        <Col md={4}>\r\n                          {item.qty} x{item.price} VND = {item.qty * item.price}{\" \"}\r\n                          VND\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              )}\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroup.Item>\r\n                <h2>Order Summary</h2>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col> Items </Col>\r\n                  <Col>{order.itemsPrice} VND</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col> Shipping </Col>\r\n                  <Col>{order.shippingPrice} VND</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Total</Col>\r\n                  <Col>{order.totalPrice} VND</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              {!order.isPaid && (\r\n                <ListGroup.Item>\r\n                  {loadingPay && <Loader/> }\r\n                  {!sdkReady ? <Loader/> : (\r\n                    <PayPalButton amount={order.totalPrice}\r\n                    onSuccess={successPaymentHandler}/>\r\n                  )}\r\n                </ListGroup.Item>\r\n              )}\r\n            </ListGroup>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderScreen;",{"ruleId":"188","replacedBy":"189"},{"ruleId":"190","replacedBy":"191"},{"ruleId":"192","severity":1,"message":"193","line":6,"column":10,"nodeType":"194","messageId":"195","endLine":6,"endColumn":16},{"ruleId":"192","severity":1,"message":"196","line":6,"column":18,"nodeType":"194","messageId":"195","endLine":6,"endColumn":21},{"ruleId":"192","severity":1,"message":"197","line":21,"column":10,"nodeType":"194","messageId":"195","endLine":21,"endColumn":37},{"ruleId":"192","severity":1,"message":"198","line":38,"column":20,"nodeType":"194","messageId":"195","endLine":38,"endColumn":40},{"ruleId":"192","severity":1,"message":"199","line":7,"column":10,"nodeType":"194","messageId":"195","endLine":7,"endColumn":13},{"ruleId":"192","severity":1,"message":"200","line":7,"column":15,"nodeType":"194","messageId":"195","endLine":7,"endColumn":18},{"ruleId":"192","severity":1,"message":"201","line":3,"column":10,"nodeType":"194","messageId":"195","endLine":3,"endColumn":14},{"ruleId":"202","severity":1,"message":"203","line":11,"column":9,"nodeType":"204","endLine":11,"endColumn":76},{"ruleId":"192","severity":1,"message":"201","line":3,"column":10,"nodeType":"194","messageId":"195","endLine":3,"endColumn":14},{"ruleId":"192","severity":1,"message":"205","line":3,"column":16,"nodeType":"194","messageId":"195","endLine":3,"endColumn":25},{"ruleId":"192","severity":1,"message":"206","line":3,"column":27,"nodeType":"194","messageId":"195","endLine":3,"endColumn":36},{"ruleId":"192","severity":1,"message":"199","line":3,"column":38,"nodeType":"194","messageId":"195","endLine":3,"endColumn":41},{"ruleId":"192","severity":1,"message":"200","line":3,"column":43,"nodeType":"194","messageId":"195","endLine":3,"endColumn":46},{"ruleId":"202","severity":1,"message":"203","line":14,"column":15,"nodeType":"204","endLine":14,"endColumn":56},{"ruleId":"202","severity":1,"message":"203","line":23,"column":15,"nodeType":"204","endLine":23,"endColumn":55},{"ruleId":"202","severity":1,"message":"203","line":32,"column":15,"nodeType":"204","endLine":32,"endColumn":54},{"ruleId":"202","severity":1,"message":"203","line":41,"column":15,"nodeType":"204","endLine":41,"endColumn":61},{"ruleId":"192","severity":1,"message":"207","line":59,"column":19,"nodeType":"194","messageId":"195","endLine":59,"endColumn":23},{"ruleId":"192","severity":1,"message":"208","line":8,"column":10,"nodeType":"194","messageId":"195","endLine":8,"endColumn":24},{"ruleId":"192","severity":1,"message":"209","line":9,"column":22,"nodeType":"194","messageId":"195","endLine":9,"endColumn":35},{"ruleId":"192","severity":1,"message":"210","line":10,"column":10,"nodeType":"194","messageId":"195","endLine":10,"endColumn":22},{"ruleId":"192","severity":1,"message":"211","line":11,"column":10,"nodeType":"194","messageId":"195","endLine":11,"endColumn":30},{"ruleId":"192","severity":1,"message":"212","line":12,"column":8,"nodeType":"194","messageId":"195","endLine":12,"endColumn":13},{"ruleId":"192","severity":1,"message":"213","line":24,"column":12,"nodeType":"194","messageId":"195","endLine":24,"endColumn":16},{"ruleId":"214","severity":1,"message":"215","line":43,"column":6,"nodeType":"216","endLine":43,"endColumn":46,"suggestions":"217"},{"ruleId":"192","severity":1,"message":"218","line":18,"column":31,"nodeType":"194","messageId":"195","endLine":18,"endColumn":46},{"ruleId":"192","severity":1,"message":"219","line":20,"column":10,"nodeType":"194","messageId":"195","endLine":20,"endColumn":29},{"ruleId":"192","severity":1,"message":"218","line":12,"column":5,"nodeType":"194","messageId":"195","endLine":12,"endColumn":20},{"ruleId":"192","severity":1,"message":"220","line":5,"column":10,"nodeType":"194","messageId":"195","endLine":5,"endColumn":16},"no-native-reassign",["221"],"no-negated-in-lhs",["222"],"no-unused-vars","'Navbar' is defined but never used.","Identifier","unusedVar","'Nav' is defined but never used.","'PRODUCT_CREATE_REVIEW_RESET' is defined but never used.","'successProductReview' is assigned a value but never used.","'Row' is defined but never used.","'Col' is defined but never used.","'Card' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'CardGroup' is defined but never used.","'Container' is defined but never used.","'data' is assigned a value but never used.","'getUserDetails' is defined but never used.","'updateAllCart' is defined but never used.","'listMyOrders' is defined but never used.","'cartItemsFromStorage' is defined but never used.","'store' is defined but never used.","'user' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loading'. Either include it or remove the dependency array.","ArrayExpression",["223"],"'ORDER_PAY_RESET' is defined but never used.","'CART_UPDATE_REQUEST' is defined but never used.","'Button' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"224","fix":"225"},"Update the dependencies array to be: [dispatch, history, userInfo, redirect, loading]",{"range":"226","text":"227"},[1412,1452],"[dispatch, history, userInfo, redirect, loading]"]